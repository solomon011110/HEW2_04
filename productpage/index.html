<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>product page</title>
    <link rel="stylesheet" href="./css/reset-min.css">
    <link rel="stylesheet" href="./css/style.css">
</head>
<body class="product">
    <div class="flex-box">
        <div class="slide-wrapper">
            <!-- 画像の枚数分だけdiv要素を用意したいです、、裏側の処理でできますか -->
            <!-- 画像の枚数があまりにも多いと見栄えが悪くなるので最大枚数も裏側の処理で何とかしてもらえるとありがたいかもしれないです。出品時に〇枚までしか添付不可みたいな形式でもいいと思います -->
            <div id="slide" class="slide">
                <div>
                    <img src="./images/egg.jpg" alt="">
                </div>
                <div>
                    <img src="./images/1-1.jpg" alt="">
                </div>
                <div>
                    <img src="./images/egg.jpg" alt="">
                </div>
            </div>
            <span id="prev" class="prev"></span>
            <span id="next" class="next"></span>
            <!-- 上のslideクラス中のdiv要素の数(画像の枚数分)liタグを用意したいです、裏側の処理でできますか -->
            <ul class="indicator" id="indicator">
                <li class="list"></li>
                <li class="list"></li>
                <li class="list"></li>
            </ul>
        </div>
        <div class="text-box">
            <h3>タマゴ  超高耐久 iPhone 14 / 14 Pro Max / 14 Plus / 13 / 13 Pro / 12 / 11 / X/XS/XR / 8 Plus 各種対応 (0.9m ホワイト)</h3>
            <div class="review flex-box">
                <div class="star">
                    <p>☆☆☆☆☆</p>
                </div>
                <p class="howmanyreviews">100件</p>
            </div>
            <h4>\10,000 <span class="tax">税込</span></h4>
            <div class="cart flex-box">
                <p>🛒  カートに追加</p>
            </div>
            <div class="explanation">
                <h5>商品説明</h5>
                <p>タマゴの入手方法
                    ポケモンのタマゴは、特定のポケモンを育て屋や預かり屋に預けることで入手できます。この施設は各地方に設けられており、条件に合うペアが一緒に預けられると一定の確率でタマゴが見つかることがあります。ペアとして適合する条件は、同じ「タマゴグループ」に属していることや、性別（通常はオスとメスの組み合わせ）です。タマゴが生まれると、プレイヤーが歩数を重ねることで孵化し、そこから新しいポケモンが誕生します。
                    
                    特徴
                    種類と遺伝
                    生まれたポケモンは通常、母親または種オス（片方がメタモンの場合も）に応じた種類になります。加えて、技や特性、性格が親から遺伝する仕組みもあります。これにより、戦闘で有利なポケモンを計画的に育成することが可能です。
                    
                    孵化の仕組み
                    タマゴを孵化させるには一定の歩数が必要です。この歩数は種族ごとに異なり、特定のアイテムや特性（「ほのおのからだ」や「マグマのよろい」など）を活用すれば効率が上がります。
                    
                    ユニークな遺伝技
                    親ポケモンが覚えている特定の技はタマゴから孵った子ポケモンに受け継ぐことがあり、これを「タマゴ技」と呼びます。これにより、通常では覚えられない技を持ったポケモンを作り出すことが可能です。
                    
                    不可タマゴグループ
                    一部のポケモン（伝説、幻、準伝説など）はタマゴを作れない「タマゴ未発見グループ」に属します。また、メタモンは例外的に他の多くのポケモンと組み合わせ可能で、繁殖の幅を広げる特別な存在です。
                    
                    プレイヤーにとっての意義
                    タマゴの仕組みは、プレイヤーがポケモンの個体値、性格、特性を調整し、理想の育成計画を立てるための重要な要素です。また、新たなポケモンを探求したりコレクションを充実させる楽しみを提供します。タマゴ孵化をテーマにしたチャレンジや国際孵化法（色違いポケモンを狙う方法）など、コミュニティでも人気のある要素となっています。
                    
                    ポケモンのタマゴは、そのシンプルな見た目以上に、戦略的な育成と冒険の楽しさを深める重要な要素と言えるでしょう。</p>
            </div>
        </div>
    </div>
    
    <div style="margin-bottom: 200px;"><!-- 実装するときけしてください　footerできるまで下スぺ-ス作りたいだけ --></div>
</body>
<script>
    const slideContainer = document.querySelector('.slide');
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    const indicator = document.getElementById('indicator');
    const slides = document.querySelectorAll('.slide > div');
    const totalSlides = slides.length;
    const slideWidth = 100 / totalSlides;
    slideContainer.style.width = `${totalSlides * 100}%`;
    slides.forEach((slide) => {
      slide.style.width = `${slideWidth}%`;
    });
    let count = 0;
    let autoPlayInterval;
    function updateSlidePosition() {
      slideContainer.style.transform = `translateX(-${count * slideWidth}%)`;
    }
    function updateIndicatorColors() {
      const lists = document.querySelectorAll('.list');
      lists.forEach((list, i) => {
        list.style.backgroundColor = i === count % totalSlides ? '#000' : '#fff';
      });
    }
    function nextClick() {
      count++;
      if (count >= totalSlides) {
        count = 0;
      }
      updateSlidePosition();
      updateIndicatorColors();
    }
    function prevClick() {
      count--;
      if (count < 0) {
        count = totalSlides - 1;
      }
      updateSlidePosition();
      updateIndicatorColors();
    }
    next.addEventListener('click', () => {
      nextClick();
      resetAutoPlayInterval();
    });
    prev.addEventListener('click', () => {
      prevClick();
      resetAutoPlayInterval();
    });
    indicator.addEventListener('click', (event) => {
      if (event.target.classList.contains('list')) {
        const index = Array.from(indicator.children).indexOf(event.target);
        setActiveSlide(index);
      }
    });
    function setActiveSlide(index) {
      count = index;
      updateSlidePosition();
      updateIndicatorColors();
      resetAutoPlayInterval()
    }
    updateIndicatorColors();
</script>
</html>